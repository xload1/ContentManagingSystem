<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org/">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<div style="padding: 5px; display: flex; flex-direction: column;">
    <a href="/posts">BACK</a>
    <a th:href="'/profile/'+${post.getAuthor_login()}"><h1 th:text="${post.getAuthor_username()}"></h1></a>
    <span th:text="${post.getAuthor_login()}"></span>
    <span th:text="${post.getDate()}"></span>
    <span th:text="${post.getText()}"></span>
    <span th:if="${post.hasImage()}">
                <img th:src="'data:image/jpeg;base64,' + ${post.convertToBase64()}" alt="">
            </span>
    <span th:text="'tags: '+${post.getTags()}"></span>
    <a th:if="${post.getAuthor_login()==currentUser.getLogin()}" th:href="'/posts/'+${post.getPost_id()}+'/edit'">edit
        post</a>
    <form th:if="${post.getAuthor_login()==currentUser.getLogin() || currentUser.isAdmin()}"
          th:action="'/posts/'+${post.getPost_id()}+'/delete'"
          method="post">
        <input type="submit" value="delete post"/>
    </form>
</div>
    <h1 th:text="'Write comment as '+${currentUser.getUsername()}"/>
    <form th:action="'/posts/'+${post.getPost_id()}+'/comment'" method="post">
        <textarea name="text" id="text" cols="30" rows="2"></textarea>
        <p th:text="${commentError}"/>
        <input type="submit" value="comment"/>
    </form>
<br>
<div  th:each="comment : ${comments}">
    <span th:text="${comment.getWriter_username()} + '  '" style="font-weight: bold"/>
    <span th:text="${comment.getDate()}"></span>
    <br>
    <span th:text="${comment.getText()}"></span>
    <br><br>
</div>
</body>
</html>